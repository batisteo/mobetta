{% extends "mobetta/base.html" %}
{% load i18n %}

{% block pagetitle %}{{ block.super }} - {% trans "Translation files" %}{% endblock %}

{% block breadcrumbs %}
    <div class="breadcrumbs">{% trans "Home" %}</div>
{% endblock breadcrumbs %}

{% block content %}
<h3>{% trans "Translation files for" %} {{ language_name }}</h3>
<hr/>
<br/>
<table cellspacing="0">
    <thead>
        <tr>
            <th>{% trans "App name" %}</th>
            <th>{% trans "Percent translated" %}</th>
            <th>{% trans "Total messages" %}</th>
            <th>{% trans "Translated messages" %}</th>
            <th>{% trans "Fuzzy messages" %}</th>
            <th>{% trans "Obsolete messages" %}</th>
            <th>{% trans "Filename" %}</th>
            <th>{% trans "Created" %}</th>
            <th>{% trans "Edit history" %}</th>
        </tr>
    </thead>
    <tbody>
        {% for file in files %}
          {% with file.get_statistics as stats %}
            <tr class="{% cycle 'row1' 'row2' %}" id="file_detail_{{ file.pk }}">
                <td><a href="{% url 'file_detail' pk=file.pk %}">{{ file.name }}</a></td>
                <td>{{ stats.percent_translated }}</td>
                <td>{{ stats.total_messages }}</td>
                <td>{{ stats.translated_messages }}</td>
                <td>{{ stats.fuzzy_messages }}</td>
                <td>{{ stats.obsolete_messages }}</td>
                <td>{{ file.filepath }}</td>
                <td>{{ file.created }}</td>
                <td><a href="{% url 'edit_history' file_pk=file.pk %}">View</a></td>
            </tr>
          {% endwith %}
        {% endfor %}
    </tbody>
</table>
{% endblock content %}
